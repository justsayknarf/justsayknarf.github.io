<!DOCTYPE html>
<html>
<head>
	<title>Hang Drummer</title>
	<script type="text/javascript" src="js/lib/paper-full.js"></script>
	<script type="text/javascript" src="js/lib/howler.js"></script>
	<link rel="stylesheet" type="text/css" href="css/circles.css">
	<script type="text/paperscript" canvas="myCanvas">
var quadxPoint = view.size.width/3;
var quadyPoint = view.size.height/3;


var keyData = {
	f: {
		color: "black",
		shift: new Point(0,0),
		sound: new Howl({
				urls: ['sounds/Crop/1-E3.m4a']
		})
	},
	g: {
		color: "black",
		shift: new Point(0,0),
		sound: new Howl({
				urls: ['sounds/Crop/1-E3.m4a']
		})
	},
	h: {
		color: "black",
		shift: new Point(0,0),
		sound: new Howl({
				urls: ['sounds/Crop/1-E3.m4a']
		})
	},

	space: {
		color: "black",
		shift: new Point(quadxPoint,quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/2-G3.m4a']
		})
	},
	z: {
		color: "yellow",
		shift: new Point(0,quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/3-B3.m4a']
		})
	},
	x: {
		color: "yellow",
		shift: new Point(0,quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/3-B3.m4a']
		})
	},
	c: {
		color: "yellow",
		shift: new Point(0,quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/3-B3.m4a']
		})
	},  
	b: {
		color: "yellow",
		shift: new Point(quadxPoint * 2, quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/4-C4.m4a']
		})
	},
	n: {
		color: "yellow",
		shift: new Point(quadxPoint * 2, quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/4-C4.m4a']
		})
	},
	m: {
		color: "yellow",
		shift: new Point(quadxPoint * 2, quadyPoint * 2),
		sound: new Howl({
				urls: ['sounds/Crop/4-C4.m4a']
		})
	},
	a: {
		color: "green",
		shift: new Point(0,quadyPoint),
		sound: new Howl({
				urls: ['sounds/Crop/5-E4.m4a']
		})
	},
	s: {
		color: "green",
		shift: new Point(0,quadyPoint),
		sound: new Howl({
				urls: ['sounds/Crop/5-E4.m4a']
		})
	},
	d: {
		color: "green",
		shift: new Point(0,quadyPoint),
		sound: new Howl({
				urls: ['sounds/Crop/5-E4.m4a']
		})
	},
	j: {
		color: "yellow",
		shift: new Point(quadxPoint * 2, quadyPoint),
		sound: new Howl({
				urls: ['sounds/Crop/6-Gb4.m4a']
		})
	},
	k: {
		color: "yellow",
		shift: new Point(quadxPoint * 2, quadyPoint),
		sound: new Howl({
				urls: ['sounds/Crop/6-Gb4.m4a']
		})
	},
	l: {
		color: "yellow",
		shift: new Point(quadxPoint * 2, quadyPoint),
		sound: new Howl({
				urls: ['sounds/Crop/6-Gb4.m4a']
		})
	},
	q: {
		color: "purple",
		shift: new Point(0,0),
		sound: new Howl({
				urls: ['sounds/Crop/7-G4.m4a']
		})
	},
	w: {
		color: "purple",
		shift: new Point(0,0),
		sound: new Howl({
				urls: ['sounds/Crop/7-G4.m4a']
		})
	},
	e: {
		color: "purple",
		shift: new Point(0,0),
		sound: new Howl({
				urls: ['sounds/Crop/7-G4.m4a']
		})
	},
	i: {
		color: "purple",
		shift: new Point(quadxPoint * 2, 0),
		sound: new Howl({
				urls: ['sounds/Crop/8-B4.m4a']
		})
	},
	o: {
		color: "purple",
		shift: new Point(quadxPoint * 2, 0),
		sound: new Howl({
				urls: ['sounds/Crop/8-B4.m4a']
		})
	},
	p: {
		color: "purple",
		shift: new Point(quadxPoint * 2, 0),
		sound: new Howl({
				urls: ['sounds/Crop/8-B4.m4a']
		})
	},
	5: {
		color: "purple",
		shift: new Point(quadxPoint, 0),
		sound: new Howl({
				urls: ['sounds/Crop/9-D5.m4a']
		})
	},
	6: {
		color: "purple",
		shift: new Point(quadxPoint, 0),
		sound: new Howl({
				urls: ['sounds/Crop/9-D5.m4a']
		})
	},
	7: {
		color: "purple",
		shift: new Point(quadxPoint, 0),
		sound: new Howl({
				urls: ['sounds/Crop/9-D5.m4a']
		})
	},

};

var circles = [];
var squares = [];

var mousePos = view.center + [view.bounds.width / 3, 100];
var position = view.center;

for (var i=0; i<5; i++) {
	var square = new Path.Rectangle({
		point: view.center - new Point(40,40),
		size: [80, 80],
		strokeColor: 'white'
		});

	squares.push(square);
};

for (var i=0; i<3; i++) {
	var square = new Path.Rectangle({
		point: view.center - new Point(20,20),
		size: [40, 40],
		strokeColor: 'white'
		});

	squares.push(square);
};


function onKeyDown(event){
	if(keyData[event.key]){			
		if(event.key === "f" || event.key === "g" || event.key === "h") {
			var newCircle = new Path.Circle(new Point(view.center), 500);
		} else {
			var quadPoint = new Point(quadxPoint, quadyPoint);
			var randomPoint = Point.random();
			var point = quadPoint * randomPoint;
			console.log(point);
			point = point + keyData[event.key].shift;

			console.log(keyData[event.key].shift);
			console.log(point);

			var newCircle = new Path.Circle(new Point(point), 500);
		}

		newCircle.strokeColor = "white";
		circles.push(newCircle);

		keyData[event.key].sound.play();
	}

}

function onFrame(event) {
	for (var i=0; i<circles.length; i++ ) {
		// circles[i].fillColor.hue += 1;
		circles[i].scale(.9);
	};

	// Rotating squares in the middle!
	for (var j=0; j<squares.length; j++ ) {
		if(j>4) {
			squares[j].rotate(-j/2-1);
		} else 
			squares[j].rotate(j/2+1);
	};


	// squareRotate.position.x += squareRotate.bounds.width / speed;

	// if (squareRotate.bounds.left > view.size.width) {
	//	squareRotate.position.x = -squareRotate.bounds.width;
	// }
}

function onMouseMove(event) {
	mousePos = event.point;
}


	</script>

</head>
<body>
	<canvas id="myCanvas" resize></canvas>
</body>
</html>